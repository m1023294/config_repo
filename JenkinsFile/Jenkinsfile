pipeline {
    agent any
    stages {
		stage('load') {
			steps {
				script {
					props = readProperties file: 'Properties/pipeline.properties'
					buildNo=BUILD_NUMBER
					echo 'load success'
				}
			}
		}
		stage('clone') {
			steps {
				script {
					sh 'rm -rf util_repo'
					sh 'git clone https://github.com/m1023294/util_repo'
					javaCiUtility=load 'util_repo/java/java-ci-cd.groovy'
					echo 'clone success'
					javaCiUtility.execute();
				}
			}
		}
	}
}